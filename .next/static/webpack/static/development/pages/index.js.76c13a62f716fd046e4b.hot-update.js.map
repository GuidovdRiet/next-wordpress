{"version":3,"file":"static/webpack/static/development/pages/index.js.76c13a62f716fd046e4b.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport Error from 'next/error';\n\nclass Index extends Component {\n  static async getInitialProps(context) {\n    const { lang, pagesEndpoint, defaultLang } = context.query;\n    const data = await fetch(`${pagesEndpoint}?slug=home`);\n    let homePageData = await data.json();\n    let isPage = true;\n\n    if (lang !== defaultLang) {\n      const pageLangCode = homePageData[0].translations[`${lang}`];\n      const translation = await fetch(`${pagesEndpoint}/${pageLangCode}`);\n      homePageData = await translation.json();\n    }\n\n    if(lang !== defaultLang) {\n      isPage = false;\n    }\n\n    const pageData = {\n      homePageData,\n      lang,\n      isPage: false,\n    };\n\n    return {\n      pageData,\n    };\n  }\n\n  render() {\n    const { isPage } = this.props.pageData;\n    if (!isPage) {\n      return <Error statusCode=\"404\" />;\n    }\n    return (\n      <div>\n        <h1>Demo Next.js | WP</h1>\n      </div>\n    );\n  }\n}\n\nexport default Index;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AA4BA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAKA;;;;;;AArCA;;;;;;;AACA;;AACA;AACA;;AADA;;AACA;AACA;;AADA;AACA;AACA;AACA;;;;;AACA;;AACA;AACA;;AADA;;AACA;AACA;;AADA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAMA;AACA;AADA;AACA;;;;;;;;;;;;;;;;AAxBA;AACA;AAwCA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}